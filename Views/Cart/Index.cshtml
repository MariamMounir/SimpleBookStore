@model List<CartItems>
@{
	ViewData["Title"] = "Cart";
	Layout = "~/Views/Shared/navbar.cshtml";
}
<div class="container my-5">
	<h2 class="mb-4">Your Cart</h2>
	<div class="table-responsive">
		<table class="table align-middle">
			<thead class="table-light">
				<tr>
					<th>Book</th>
					<th>Title</th>
					<th style="width: 120px;">Quantity</th>
					<th>Price</th>
					<th>Total</th>
					<th></th>
				</tr>
			</thead>
			<tbody id="cartBody">
				@foreach (var item in Model)
				{
					<tr>
						<td><img src="@item.Product.ImageUrl" alt="Book" class="img-fluid" style="width: 80px; height: auto;"></td>
						<td>@item.Product.Name</td>
						<td><input type="number" value="@item.Quantity" class="form-control quantity" min="1" data-cart-item-id="@item.Id" data-price="@item.Product.Price"></td>
						<td class="unit-price">$@item.Product.Price</td>
						<td class="item-total">$@item.Price</td>
						<td><button class="btn btn-sm btn-danger remove-item" data-cart-item-id="@item.Id"><i class="fas fa-trash"></i></button></td>
					</tr>
				}

			</tbody>
		</table>
	</div>

	<div class="text-end mt-4">
		<h5>Subtotal: <span id="cartSubtotal">$0.00</span></h5>
		<div class="mt-3">
			<a class="btn btn-primary" asp-controller="Checkout" asp-action="Index">Checkout</a>
		</div>
	</div>
</div>

@section Scripts {
	<script src="~/js/CartControl.js"></script>

}

